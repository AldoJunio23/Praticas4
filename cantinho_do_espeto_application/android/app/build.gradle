plugins {
    id "com.android.application"
    id "kotlin-android"
    id "com.google.gms.google-services" // Firebase configuration
    id "dev.flutter.flutter-gradle-plugin" // Flutter Gradle plugin
}

android {
    namespace = "com.example.flutter_application_praticas"
    compileSdk = 34 // Atualizado para combinar com o `compileSdkVersion`

    ndkVersion = "25.2.9519653" // Especifique o NDK usado (opcional, mas útil se necessário)

    compileOptions {
        sourceCompatibility = JavaVersion.VERSION_11
        targetCompatibility = JavaVersion.VERSION_11
    }

    kotlinOptions {
        jvmTarget = "11"
    }

    defaultConfig {
        applicationId = "com.example.flutter_application_praticas"
        minSdk = 23 // Atualizado para suportar bibliotecas como `firebase_auth`
        targetSdk = 34
        versionCode = 1
        versionName = "1.0"
    }

    buildTypes {
        release {
            // Ativar redução de código e remoção de recursos não utilizados
            minifyEnabled true
            shrinkResources true

            // Especificar o arquivo ProGuard
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'

            // Configuração de assinatura de debug (ajuste conforme necessário para produção)
            signingConfig signingConfigs.debug
        }
        debug {
            // Configurações específicas para o modo de debug
            minifyEnabled false
            shrinkResources false
        }
    }
}

flutter {
    source = "../.." // Diretório do código fonte Flutter
}

// Adicione o plugin do Google Services para configurar Firebase
apply plugin: 'com.google.gms.google-services'